import{j as s}from"./jsx-runtime.CIMolHGP.js";import{u as ie}from"./index.bM7OrN6I.js";import{$ as M}from"./store.8pX9dcuw.js";import{r as i,R as o}from"./index.DddtCxX5.js";import{z as R,U as W,a as G,l as ce,f as ue,u as de,I as pe,G as fe,$ as me,b as he,K as P,w as ge}from"./label.ca_X_wog.js";import{W as be,l as ve,T as ye,w as xe,e as we,j as je,r as Pe,o as L,p as $e,a as Oe,A as Ee,R as Ne}from"./popover.D1wdogF_.js";import{W as H,H as E,y as ke,o as w,D as Ie}from"./use-sync-refs.CsDxRvfL.js";import{p as Se}from"./use-server-handoff-complete.4mbL8o-Z.js";import{P as c}from"./index.DpKhS-qi.js";import"./index.Py3gQaBW.js";import"./floating-ui.react-dom.TQbKx63O.js";var Te=["color","size","title","className"];function $(){return $=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])}return e},$.apply(this,arguments)}function ze(e,r){if(e==null)return{};var l=Ce(e,r),t,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)t=n[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function Ce(e,r){if(e==null)return{};var l={},t=Object.keys(e),a,n;for(n=0;n<t.length;n++)a=t[n],!(r.indexOf(a)>=0)&&(l[a]=e[a]);return l}var N=i.forwardRef(function(e,r){var l=e.color,t=e.size,a=e.title,n=e.className,f=ze(e,Te);return o.createElement("svg",$({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:l,className:["bi","bi-check2",n].filter(Boolean).join(" ")},f),a?o.createElement("title",null,a):null,o.createElement("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"}))});N.propTypes={color:c.string,size:c.oneOfType([c.string,c.number]),title:c.string,className:c.string};N.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var De=["color","size","title","className"];function O(){return O=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])}return e},O.apply(this,arguments)}function Ae(e,r){if(e==null)return{};var l=Fe(e,r),t,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)t=n[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function Fe(e,r){if(e==null)return{};var l={},t=Object.keys(e),a,n;for(n=0;n<t.length;n++)a=t[n],!(r.indexOf(a)>=0)&&(l[a]=e[a]);return l}var k=i.forwardRef(function(e,r){var l=e.color,t=e.size,a=e.title,n=e.className,f=Ae(e,De);return o.createElement("svg",O({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:l,className:["bi","bi-gear",n].filter(Boolean).join(" ")},f),a?o.createElement("title",null,a):null,o.createElement("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"}),o.createElement("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"}))});k.propTypes={color:c.string,size:c.oneOfType([c.string,c.number]),title:c.string,className:c.string};k.defaultProps={color:"currentColor",size:"1em",title:null,className:""};let Me="div";function Le(e,r){let l=`headlessui-control-${i.useId()}`,[t,a]=R(),[n,f]=W(),u=G(),{disabled:d=u||!1,...m}=e,h=i.useMemo(()=>({disabled:d}),[d]);return o.createElement(ce,{value:d},o.createElement(a,{value:t},o.createElement(f,{value:n},o.createElement(ue,{id:l},E({ourProps:{ref:r,disabled:d||void 0,"aria-disabled":d||void 0},theirProps:{...m,children:o.createElement(be,null,typeof m.children=="function"?m.children(h):m.children)},slot:h,defaultTag:Me,name:"Field"})))))}let Re=H(Le),I=i.createContext(null);I.displayName="GroupContext";let We=i.Fragment;function Ge(e){var r;let[l,t]=i.useState(null),[a,n]=R(),[f,u]=W(),d=i.useMemo(()=>({switch:l,setSwitch:t}),[l,t]),m={},h=e;return o.createElement(u,{name:"Switch.Description",value:f},o.createElement(n,{name:"Switch.Label",value:a,props:{htmlFor:(r=d.switch)==null?void 0:r.id,onClick(g){l&&(g.currentTarget instanceof HTMLLabelElement&&g.preventDefault(),l.click(),l.focus({preventScroll:!0}))}}},o.createElement(I.Provider,{value:d},E({ourProps:m,theirProps:h,slot:{},defaultTag:We,name:"Switch.Group"}))))}let He="button";function Be(e,r){var l;let t=i.useId(),a=de(),n=G(),{id:f=a||`headlessui-switch-${t}`,disabled:u=n||!1,checked:d,defaultChecked:m,onChange:h,name:g,value:B,form:K,autoFocus:x=!1,...U}=e,S=i.useContext(I),[V,q]=i.useState(null),J=i.useRef(null),Q=ke(J,r,S===null?null:S.setSwitch,q),b=ve(m),[v,y]=ye(d,h,b??!1),X=Se(),[T,z]=i.useState(!1),C=w(()=>{z(!0),y?.(!v),X.nextFrame(()=>{z(!1)})}),_=w(p=>{if(Pe(p.currentTarget))return p.preventDefault();p.preventDefault(),C()}),Y=w(p=>{p.key===L.Space?(p.preventDefault(),C()):p.key===L.Enter&&$e(p.currentTarget)}),Z=w(p=>p.preventDefault()),ee=pe(),te=fe(),{isFocusVisible:D,focusProps:le}=me({autoFocus:x}),{isHovered:A,hoverProps:re}=he({isDisabled:u}),{pressed:F,pressProps:ae}=xe({disabled:u}),ne=i.useMemo(()=>({checked:v,disabled:u,hover:A,focus:D,active:F,autofocus:x,changing:T}),[v,A,D,F,u,T,x]),oe=Ie({id:f,ref:Q,role:"switch",type:we(e,V),tabIndex:e.tabIndex===-1?0:(l=e.tabIndex)!=null?l:0,"aria-checked":v,"aria-labelledby":ee,"aria-describedby":te,disabled:u||void 0,autoFocus:x,onClick:_,onKeyUp:Y,onKeyPress:Z},le,re,ae),se=i.useCallback(()=>{if(b!==void 0)return y?.(b)},[y,b]);return o.createElement(o.Fragment,null,g!=null&&o.createElement(je,{disabled:u,data:{[g]:B||"on"},overrides:{type:"checkbox",checked:v},form:K,onReset:se}),E({ourProps:oe,theirProps:U,slot:ne,defaultTag:He,name:"Switch"}))}let Ke=H(Be),Ue=Ge,Ve=P,qe=ge,Je=Object.assign(Ke,{Group:Ue,Label:Ve,Description:qe});const j=e=>{const r=ie(M),l=()=>{M.setKey(e.playerId,{...r[e.playerId],[e.property]:!r[e.playerId][e.property]})},t=e.switchPosition||"right";return s.jsxs(Re,{className:"flex flex-row gap-4",children:[t==="right"&&s.jsx(P,{className:"font-semibold text-md grow",children:e.label}),s.jsxs(Je,{checked:r[e.playerId][e.property],onChange:l,className:"group relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 transition data-[checked]:bg-secondary",children:[s.jsx("span",{className:"size-4 translate-x-1 rounded-full bg-white transition group-data-[checked]:translate-x-6"}),r[e.playerId][e.property]&&s.jsx(N,{className:"text-white absolute w-4 h-4 left-1.5 top-[5px]"})]}),t==="left"&&s.jsx(P,{className:"font-semibold text-md grow",children:e.label})]})},ot=e=>s.jsxs(Oe,{children:[s.jsxs(Ee,{className:"bg-white rounded-lg flex flex-row justify-center items-center gap-2 px-2 py-1.5 data-[open]:bg-blue-hover font-semibold",children:[s.jsx(k,{className:"size-4"}),s.jsx("span",{children:"Settings"})]}),s.jsx(Ne,{anchor:"bottom end",className:"flex flex-col bg-white drop-shadow-lg p-6 rounded-md mt-4 z-50",children:s.jsxs("div",{className:"flex flex-col align-center justify-center gap-4",children:[s.jsx(j,{label:"Snap to Annotations",playerId:e.playerId,property:"snapToAnnotations",switchPosition:"right"}),s.jsx(j,{label:"Autoscroll",playerId:e.playerId,property:"autoScroll",switchPosition:"right"}),s.jsx(j,{label:"Show Tags",playerId:e.playerId,property:"showTags",switchPosition:"right"})]})})]});export{ot as default};
